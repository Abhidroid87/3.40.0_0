import{c as K,j as e,a as k,r as p,C as $,X as Y,m as y,A as X,F as ie,T as re,b as oe,R as le}from"./globals.BOLoAqbZ.js";const ce={};function de(t,n){let s;try{s=t()}catch{return}return{getItem:o=>{var i;const u=x=>x===null?null:JSON.parse(x,void 0),g=(i=s.getItem(o))!=null?i:null;return g instanceof Promise?g.then(u):u(g)},setItem:(o,i)=>s.setItem(o,JSON.stringify(i,void 0)),removeItem:o=>s.removeItem(o)}}const M=t=>n=>{try{const s=t(n);return s instanceof Promise?s:{then(a){return M(a)(s)},catch(a){return this}}}catch(s){return{then(a){return this},catch(a){return M(a)(s)}}}},he=(t,n)=>(s,a,o)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:d=>d,version:0,merge:(d,w)=>({...w,...d}),...n},u=!1;const g=new Set,x=new Set;let l;try{l=i.getStorage()}catch{}if(!l)return t((...d)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...d)},a,o);const S=M(i.serialize),D=()=>{const d=i.partialize({...a()});let w;const c=S({state:d,version:i.version}).then(v=>l.setItem(i.name,v)).catch(v=>{w=v});if(w)throw w;return c},j=o.setState;o.setState=(d,w)=>{j(d,w),D()};const b=t((...d)=>{s(...d),D()},a,o);let N;const m=()=>{var d;if(!l)return;u=!1,g.forEach(c=>c(a()));const w=((d=i.onRehydrateStorage)==null?void 0:d.call(i,a()))||void 0;return M(l.getItem.bind(l))(i.name).then(c=>{if(c)return i.deserialize(c)}).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==i.version){if(i.migrate)return i.migrate(c.state,c.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return c.state}).then(c=>{var v;return N=i.merge(c,(v=a())!=null?v:b),s(N,!0),D()}).then(()=>{w==null||w(N,void 0),u=!0,x.forEach(c=>c(N))}).catch(c=>{w==null||w(void 0,c)})};return o.persist={setOptions:d=>{i={...i,...d},d.getStorage&&(l=d.getStorage())},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>u,onHydrate:d=>(g.add(d),()=>{g.delete(d)}),onFinishHydration:d=>(x.add(d),()=>{x.delete(d)})},m(),N||b},me=(t,n)=>(s,a,o)=>{let i={storage:de(()=>localStorage),partialize:m=>m,version:0,merge:(m,d)=>({...d,...m}),...n},u=!1;const g=new Set,x=new Set;let l=i.storage;if(!l)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...m)},a,o);const S=()=>{const m=i.partialize({...a()});return l.setItem(i.name,{state:m,version:i.version})},D=o.setState;o.setState=(m,d)=>{D(m,d),S()};const j=t((...m)=>{s(...m),S()},a,o);o.getInitialState=()=>j;let b;const N=()=>{var m,d;if(!l)return;u=!1,g.forEach(c=>{var v;return c((v=a())!=null?v:j)});const w=((d=i.onRehydrateStorage)==null?void 0:d.call(i,(m=a())!=null?m:j))||void 0;return M(l.getItem.bind(l))(i.name).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==i.version){if(i.migrate)return[!0,i.migrate(c.state,c.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,c.state];return[!1,void 0]}).then(c=>{var v;const[I,T]=c;if(b=i.merge(T,(v=a())!=null?v:j),s(b,!0),I)return S()}).then(()=>{w==null||w(b,void 0),b=a(),u=!0,x.forEach(c=>c(b))}).catch(c=>{w==null||w(void 0,c)})};return o.persist={setOptions:m=>{i={...i,...m},m.storage&&(l=m.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>N(),hasHydrated:()=>u,onHydrate:m=>(g.add(m),()=>{g.delete(m)}),onFinishHydration:m=>(x.add(m),()=>{x.delete(m)})},i.skipHydration||N(),b||j},ue=(t,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((ce?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),he(t,n)):me(t,n),xe=ue,P={lat:40.7128,lon:-74.006,name:"New York, NY"},pe=async(t,n)=>{try{if(!t||!n||isNaN(t)||isNaN(n))return console.warn("Using default location due to missing or invalid coordinates"),{condition:"Clear",temperature:20,description:"Clear sky",location:P};const s=`${t.toFixed(2)}, ${n.toFixed(2)}`;return{condition:"Clear",temperature:20+Math.random()*10,description:"Clear sky",location:{lat:Number(t),lon:Number(n),name:s}}}catch(s){throw console.error("Error fetching weather data:",s),s}},q=()=>new Promise(t=>{if(!navigator.geolocation){console.warn("Geolocation is not supported, using default location"),t({coords:{latitude:P.lat,longitude:P.lon,accuracy:0,altitude:null,altitudeAccuracy:null,heading:null,speed:null},timestamp:Date.now()});return}navigator.geolocation.getCurrentPosition(n=>t(n),n=>{console.warn("Geolocation error, using default location:",n),t({coords:{latitude:P.lat,longitude:P.lon,accuracy:0,altitude:null,altitudeAccuracy:null,heading:null,speed:null},timestamp:Date.now()})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),Q=K()(xe((t,n)=>({isOnboarded:!1,showSettings:!1,userPreferences:{theme:"system",layout:{},weatherEnabled:!0,feedEnabled:!0,tasksEnabled:!0,interests:[],googleTasksSync:!1,name:""},weatherData:null,weatherLoading:!1,feedItems:[],feedLoading:!1,lastFeedUpdate:0,tasks:[],tasksLoading:!1,setOnboarded:s=>t({isOnboarded:s}),setShowSettings:s=>t({showSettings:s}),updateUserPreferences:s=>{t(a=>({userPreferences:{...a.userPreferences,...s}}))},updateLocation:async(s,a)=>{try{t(o=>({userPreferences:{...o.userPreferences,location:{lat:s,lon:a}},weatherLoading:!0})),await n().refreshWeather()}catch(o){console.error("Failed to update location:",o),t({weatherLoading:!1})}},updateLayoutPosition:(s,a)=>{t(o=>({userPreferences:{...o.userPreferences,layout:{...o.userPreferences.layout,[s]:a}}}))},refreshWeather:async()=>{const{userPreferences:s}=n();t({weatherLoading:!0});try{if(!s.location){const o=await q();await n().updateLocation(o.coords.latitude,o.coords.longitude);return}const a=await pe(s.location.lat,s.location.lon);t({weatherData:a,weatherLoading:!1})}catch(a){throw console.error("Failed to refresh weather:",a),t({weatherLoading:!1,weatherData:null}),a}},setFeedItems:s=>{t({feedItems:s,lastFeedUpdate:Date.now()})},setFeedLoading:s=>t({feedLoading:s}),rateFeedItem:(s,a)=>{t(o=>({feedItems:o.feedItems.map(i=>i.id===s?{...i,userRating:a}:i)}))},addTask:s=>{const a=`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,o={...s,id:a,createdAt:new Date().toISOString(),completed:!1};t(i=>({tasks:[...i.tasks,o]}))},updateTask:(s,a)=>{t(o=>({tasks:o.tasks.map(i=>i.id===s?{...i,...a}:i)}))},deleteTask:s=>{t(a=>({tasks:a.tasks.filter(o=>o.id!==s)}))},toggleTask:s=>{t(a=>({tasks:a.tasks.map(o=>o.id===s?{...o,completed:!o.completed}:o)}))},saveToStorage:async()=>Promise.resolve(),initializeApp:async()=>{try{const{userPreferences:s}=n();if(s.location)await n().refreshWeather();else try{const a=await q();await n().updateLocation(a.coords.latitude,a.coords.longitude)}catch(a){console.warn("Geolocation failed, using default location:",a),t({weatherData:null,weatherLoading:!1})}s.interests&&s.interests.length>0&&chrome.runtime.sendMessage({action:"fetchFeeds",interests:s.interests}),t({isOnboarded:!0})}catch(s){throw console.error("Error initializing app:",s),t({isOnboarded:!0,weatherData:null,weatherLoading:!1}),s}}}),{name:"app-store"}));function ge(){const t=()=>{const n=new Date().getHours();return n<12?"Good Morning":n<18?"Good Afternoon":"Good Evening"};return e.jsx("div",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200",children:t()})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=k("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=k("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=k("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=k("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=k("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=k("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=k("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=k("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function V(t){const n=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&n==="[object Date]"?new t.constructor(+t):typeof t=="number"||n==="[object Number]"||typeof t=="string"||n==="[object String]"?new Date(t):new Date(NaN)}function Ne(t,n){return t instanceof Date?new t.constructor(n):new Date(n)}function J(t){const n=V(t);return n.setHours(0,0,0,0),n}function Se(t){return Ne(t,Date.now())}function ke(t,n){const s=J(t),a=J(n);return+s==+a}function W(t){return+V(t)<Date.now()}function B(t){return ke(t,Se(t))}const De=({subtasks:t,onAdd:n,onDelete:s,onToggle:a})=>{const[o,i]=p.useState(""),[u,g]=p.useState(""),x=()=>{o.trim()&&(n({title:o.trim(),completed:!1,dueDate:u||void 0}),i(""),g(""))};return e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("div",{className:"text-sm font-medium text-white/80 mb-2",children:"Subtasks"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:o,onChange:l=>i(l.target.value),onKeyPress:l=>l.key==="Enter"&&x(),placeholder:"Add a subtask...",className:"flex-1 bg-white/10 border border-white/20 rounded-lg px-3 py-1 text-sm text-white placeholder-white/50 focus:outline-none focus:border-white/40"}),e.jsx("input",{type:"date",value:u,onChange:l=>g(l.target.value),className:"w-32 bg-white/10 border border-white/20 rounded-lg px-3 py-1 text-sm text-white focus:outline-none focus:border-white/40"}),e.jsx("button",{onClick:x,disabled:!o.trim(),className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg disabled:opacity-50",children:e.jsx(A,{className:"w-4 h-4 text-white"})})]}),e.jsx("div",{className:"space-y-2",children:t.map(l=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white/5 rounded-lg group",children:[e.jsx("button",{onClick:()=>a(l.id),className:"flex-shrink-0",children:e.jsx("div",{className:`w-4 h-4 rounded border ${l.completed?"bg-green-500 border-green-600":"border-white/30 hover:border-white/50"} flex items-center justify-center`,children:l.completed&&e.jsx($,{className:"w-3 h-3 text-white"})})}),e.jsx("span",{className:`flex-1 text-sm ${l.completed?"line-through text-white/50":"text-white"}`,children:l.title}),l.dueDate&&e.jsx("span",{className:"text-xs text-white/50",children:new Date(l.dueDate).toLocaleDateString()}),e.jsx("button",{onClick:()=>s(l.id),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-white/10 rounded",children:e.jsx(Y,{className:"w-3 h-3 text-white/70"})})]},l.id))})]})},Te=({reminders:t,onAdd:n,onDelete:s})=>{const[a,o]=p.useState(""),i=()=>{a.trim()&&(n(a),o(""))};return e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("div",{className:"text-sm font-medium text-white/80 mb-2",children:"Reminders"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"datetime-local",value:a,onChange:u=>o(u.target.value),className:"flex-1 bg-white/10 border border-white/20 rounded-lg px-3 py-1 text-sm text-white focus:outline-none focus:border-white/40"}),e.jsx("button",{onClick:i,disabled:!a,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg disabled:opacity-50",children:e.jsx(A,{className:"w-4 h-4 text-white"})})]}),e.jsx("div",{className:"space-y-2",children:t.map((u,g)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white/5 rounded-lg group",children:[e.jsx(Z,{className:"w-4 h-4 text-white/70"}),e.jsx("span",{className:"flex-1 text-sm text-white",children:new Date(u).toLocaleString()}),e.jsx("button",{onClick:()=>s(u),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-white/10 rounded",children:e.jsx(Y,{className:"w-3 h-3 text-white/70"})})]},g))})]})},_=({task:t,expanded:n,onToggle:s,onExpand:a,onDelete:o,priorityColorMap:i})=>{var u,g;return e.jsx(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},whileHover:{scale:1.02},className:"task-card",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(y.button,{onClick:s,className:`mt-1 w-6 h-6 border-2 rounded-lg transition-all duration-200 flex items-center justify-center ${t.completed?"border-green-500 bg-green-500":"border-white/30 hover:border-white/50"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:t.completed&&e.jsx($,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:`font-medium truncate text-lg ${t.completed?"line-through text-white/50":"text-white"}`,children:t.title}),t.description&&e.jsx("p",{className:`text-sm ${t.completed?"text-white/30":"text-white/70"}`,children:t.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded-lg ${i[t.priority]}`,children:t.priority.toUpperCase()}),t.dueDate&&e.jsxs("div",{className:"text-xs text-white/50 flex items-center space-x-1",children:[e.jsx(we,{className:"w-3 h-3"}),e.jsx("span",{children:new Date(t.dueDate).toLocaleDateString()})]})]})]}),(((u=t.subtasks)==null?void 0:u.length)>0||((g=t.reminders)==null?void 0:g.length)>0)&&e.jsxs("button",{onClick:a,className:"mt-2 flex items-center space-x-1 text-white/50 hover:text-white text-sm",children:[n?e.jsx(fe,{className:"w-4 h-4"}):e.jsx(ye,{className:"w-4 h-4"}),e.jsx("span",{children:"Details"})]}),n&&e.jsxs("div",{className:"mt-4 space-y-4",children:[t.subtasks&&t.subtasks.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h5",{className:"text-sm font-medium text-white/70",children:"Subtasks"}),t.subtasks.map(x=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("div",{className:`w-3 h-3 rounded-sm ${x.completed?"bg-green-500":"border border-white/30"}`}),e.jsx("span",{className:x.completed?"line-through text-white/30":"text-white",children:x.title}),x.dueDate&&e.jsxs("span",{className:"text-white/50",children:["· ",new Date(x.dueDate).toLocaleDateString()]})]},x.id))]}),t.reminders&&t.reminders.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h5",{className:"text-sm font-medium text-white/70",children:"Reminders"}),t.reminders.map((x,l)=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/70",children:[e.jsx(Z,{className:"w-3 h-3"}),e.jsx("span",{children:new Date(x).toLocaleString()})]},l))]})]})]}),e.jsx(y.button,{onClick:o,className:"mt-1 p-2 text-white/30 hover:text-red-500 rounded-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(be,{className:"w-4 h-4"})})]})})},Ce=()=>{const t={high:3,medium:2,low:1},{tasks:n,userPreferences:s,addTask:a,deleteTask:o,toggleTask:i}=Q(),[u,g]=p.useState("list"),[x,l]=p.useState(!1),[S,D]=p.useState(new Set),[j,b]=p.useState(""),[N,m]=p.useState(""),[d,w]=p.useState("medium"),[c,v]=p.useState(""),[I,T]=p.useState([]),[H,F]=p.useState([]),ee=p.useCallback(r=>{T(h=>[...h,{...r,id:crypto.randomUUID()}])},[]),te=p.useCallback(r=>{T(h=>h.filter(f=>f.id!==r))},[]),se=p.useCallback(r=>{F(h=>h.includes(r)?h:[...h,r])},[]),ae=p.useCallback(r=>{F(h=>h.filter(f=>f!==r))},[]),z=p.useCallback(async()=>{if(!j.trim())return;const r={id:crypto.randomUUID(),title:j,description:N||void 0,completed:!1,priority:d,dueDate:c||void 0,subtasks:I,reminders:H};try{const h=await chrome.runtime.sendMessage({action:"getTaskSuggestions",task:j});a(h!=null&&h.suggestions?{...r,aiSuggestions:h.suggestions}:r),b(""),m(""),w("medium"),v(""),T([]),F([]),l(!1)}catch(h){console.error("Failed to get AI suggestions:",h),a(r)}},[j,N,d,c,I,H,a]),U=p.useCallback(r=>{D(h=>{const f=new Set(h);return f.has(r)?f.delete(r):f.add(r),f})},[]),{pendingTasks:E,completedTasks:R}=p.useMemo(()=>{const r=[...n].sort((h,f)=>{if(h.completed!==f.completed)return h.completed?1:-1;if(!h.completed&&!f.completed){const C=h.dueDate?new Date(h.dueDate):null,L=f.dueDate?new Date(f.dueDate):null,O=C&&(W(C)||B(C)),ne=L&&(W(L)||B(L));if(O!==ne)return O?-1:1;if(C&&L){const G=C.getTime()-L.getTime();if(G!==0)return G}return C?-1:L?1:t[f.priority]-t[h.priority]}return-1});return{pendingTasks:r.filter(h=>!h.completed),completedTasks:r.filter(h=>h.completed)}},[n]);return s.tasksEnabled?e.jsxs("div",{className:"glass-card card-padding h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"heading-secondary flex items-center space-x-3",children:[e.jsx(y.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:e.jsx($,{className:"w-6 h-6"})}),e.jsx("span",{children:"Tasks"})]}),e.jsx(y.button,{onClick:()=>l(!x),className:"btn-secondary interactive-element",whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:e.jsx(A,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"bg-white/10 rounded-lg p-1 flex",children:["list","timeline"].map(r=>e.jsxs("button",{onClick:()=>g(r),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${u===r?"bg-white/20 text-white":"text-white/70 hover:text-white"}`,children:[r.charAt(0).toUpperCase()+r.slice(1)," View"]},r))})]}),e.jsx(X,{children:x&&e.jsx(y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-8 overflow-hidden",children:e.jsxs("div",{className:"task-card space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Task title...",value:j,onChange:r=>b(r.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-white/40",onKeyPress:r=>r.key==="Enter"&&z(),autoFocus:!0}),e.jsx("textarea",{placeholder:"Description (optional)...",value:N,onChange:r=>m(r.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-white/40",rows:3}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Priority"}),e.jsxs("select",{value:d,onChange:r=>w(r.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-white/40",children:[e.jsx("option",{value:"low",children:"🟢 Low Priority"}),e.jsx("option",{value:"medium",children:"🟡 Medium Priority"}),e.jsx("option",{value:"high",children:"🔴 High Priority"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Due Date"}),e.jsx("input",{type:"date",value:c,onChange:r=>v(r.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-white/40"})]})]}),e.jsx(De,{subtasks:I,onAdd:ee,onDelete:te,onToggle:r=>{T(h=>h.map(f=>f.id===r?{...f,completed:!f.completed}:f))}}),e.jsx(Te,{reminders:H,onAdd:se,onDelete:ae}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs(y.button,{onClick:z,className:"flex-1 btn-primary",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Add Task"]}),e.jsx(y.button,{onClick:()=>l(!1),className:"btn-secondary",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"})]})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:u==="list"?e.jsxs("div",{className:"space-y-6",children:[E.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-white/90 text-base font-bold mb-4 flex items-center space-x-2",children:[e.jsx("span",{children:"📋"}),e.jsxs("span",{children:["Pending (",E.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:E.map(r=>e.jsx(_,{task:r,expanded:S.has(r.id),onToggle:()=>i(r.id),onExpand:()=>U(r.id),onDelete:()=>o(r.id),priorityColorMap:t},r.id))})]}),R.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-white/90 text-base font-bold mb-4 flex items-center space-x-2",children:[e.jsx("span",{children:"✅"}),e.jsxs("span",{children:["Completed (",R.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:R.map(r=>e.jsx(_,{task:r,expanded:S.has(r.id),onToggle:()=>i(r.id),onExpand:()=>U(r.id),onDelete:()=>o(r.id),priorityColorMap:t},r.id))})]}),n.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[e.jsx("div",{className:"text-white/70",children:"No tasks yet."}),e.jsxs(y.button,{onClick:()=>l(!0),className:"btn-primary",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(A,{className:"w-5 h-5 mr-2"}),"Create your first task"]})]})})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-px bg-white/20"}),e.jsx("div",{className:"space-y-6 pl-12",children:[...E,...R].map(r=>e.jsxs(y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"relative",children:[e.jsx("div",{className:`absolute -left-8 w-4 h-4 rounded-full border-2 ${r.completed?"bg-green-500 border-green-600":"bg-white border-white/50"}`}),e.jsx(_,{task:r,expanded:S.has(r.id),onToggle:()=>i(r.id),onExpand:()=>U(r.id),onDelete:()=>o(r.id),priorityColorMap:t})]},r.id))})]})})]}):e.jsxs("div",{className:"glass-card p-6 text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Tasks Disabled"}),e.jsx("p",{className:"text-white/70",children:"Enable tasks in settings to manage your to-do list."})]})},Le=K(t=>({settings:{darkMode:!1,temperatureUnit:"C"},updateSettings:n=>t(s=>({settings:{...s.settings,...n}}))}));function Ie(){const{settings:t,updateSettings:n}=Le();return e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Dark Mode"}),e.jsx("button",{onClick:()=>n({darkMode:!t.darkMode}),className:`relative inline-flex h-6 w-11 items-center rounded-full ${t.darkMode?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${t.darkMode?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Temperature Unit"}),e.jsxs("button",{onClick:()=>n({temperatureUnit:t.temperatureUnit==="C"?"F":"C"}),className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 rounded",children:["°",t.temperatureUnit]})]})]})]})}const Pe=()=>{const[t,n]=p.useState([]);return p.useEffect(()=>{(async()=>{const a=await chrome.storage.local.get("notes");a.notes&&n(a.notes)})()},[]),e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card p-4",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[e.jsx(ie,{className:"mr-2"})," Recent Notes"]}),e.jsx("div",{className:"space-y-4",children:t.length===0?e.jsx("div",{className:"text-white/70 text-center py-4",children:"No notes yet. Click to create your first note."}):t.map(s=>e.jsxs("div",{className:"p-3 bg-white/10 rounded-lg",children:[e.jsx("h3",{className:"text-white font-medium",children:s.title}),e.jsx("p",{className:"text-white/70 text-sm line-clamp-2 mt-1",children:s.content}),s.tags.length>0&&e.jsx("div",{className:"flex gap-2 mt-2",children:s.tags.map(a=>e.jsxs("div",{className:"flex items-center text-xs bg-white/20 px-2 py-1 rounded",children:[e.jsx(re,{size:12,className:"mr-1"}),a]},a))})]},s.id))})]})},Ae=()=>e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card p-4",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[e.jsx(ve,{className:"mr-2"})," AI Suggestions"]}),e.jsx("div",{className:"text-white/70 text-center py-4",children:"AI suggestions will be available soon. This feature is currently in development."})]}),Me=()=>{const[t,n]=p.useState(new Date);return p.useEffect(()=>{const s=setInterval(()=>{n(new Date)},1e3);return()=>clearInterval(s)},[]),e.jsxs("div",{className:"text-4xl font-light text-white mb-4",children:[t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),e.jsx("div",{className:"text-lg opacity-75",children:t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})};function Ee(){const{showSettings:t,setShowSettings:n,initializeApp:s}=Q(),[a,o]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{await s()}catch(u){console.error("Failed to initialize app:",u)}finally{o(!1)}})()},[s]),a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-800 via-purple-800 to-indigo-900",children:e.jsx(y.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"glass-card p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-white text-2xl font-light",children:"Loading Manage..."})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-800 via-purple-800 to-indigo-900",children:e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(Me,{}),e.jsx(ge,{})]}),e.jsx(y.button,{onClick:()=>n(!t),className:"p-2 rounded-full hover:bg-white/10 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(je,{className:"w-6 h-6 text-white"})})]}),e.jsx(X,{children:t&&e.jsx(y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-8",children:e.jsx(Ie,{})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(Ce,{})}),e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(Pe,{})})]})}),e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-8",children:e.jsx(Ae,{})})]})]})})})}oe.createRoot(document.getElementById("root")).render(e.jsx(le.StrictMode,{children:e.jsx(Ee,{})}));
